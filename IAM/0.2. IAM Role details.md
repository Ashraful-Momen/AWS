ржЕржмрж╢рзНржпржЗ ЁЯШК ржирж┐ржЪрзЗ ржЖржорж┐ **AWS IAM Role** рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ржпрж╝ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржЫрж┐ тАФ рж╕рж╣ржЬржнрж╛ржмрзЗ, ржпрзЗржи рждрзБржорж┐ ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЛред

---

## ЁЯзн **AWS IAM Role ржХрзА?**

ЁЯСЙ **IAM Role (Identity and Access Management Role)** рж╣рж▓рзЛ ржПржХ ржзрж░ржирзЗрж░ **permission рж╕рзЗржЯ**, ржпрж╛ AWS рж╕рж╛рж░рзНржнрж┐рж╕ ржмрж╛ ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж┐ржЫрзБ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЕржирзБржорждрж┐ ржжрзЗржпрж╝ред

ржПржХржЯрж┐ **Role ржорж╛ржирзЗ рж╣рж▓рзЛ тАЬtemporary identityтАЭ** тАФ ржпрж╛ рждрзБржорж┐ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕ ржмрж╛ ржЗржЙржЬрж╛рж░рзЗрж░ рж╣рж╛рждрзЗ рждрзБрж▓рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЛ ржпрзЗржи рж╕рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж╛ржЬржЧрзБрж▓рзЛ ржХрж░рждрзЗ ржкрж╛рж░рзЗред
рждржмрзЗ Role ржирж┐ржЬрзЗ ржерзЗржХрзЗ ржХрзЛржирзЛ ржЗржЙржЬрж╛рж░ ржирж╛ тАФ ржПржЯрж╛ ржмрж░ржВ *ржЕржирзБржорждрж┐рж░ ржкрзЛрж╢рж╛ржХ* (permission set)ред

---

## ЁЯФН **ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛ ржпрж╛ржХ**

ржзрж░рзЛ рждрзБржорж┐ ржПржХржЯрж┐ EC2 instance ржЪрж╛рж▓рж╛ржЪрзНржЫрзЛ, ржЖрж░ рж╕рзЗржЯрж┐ржХрзЗ S3 bucket-ржП ржлрж╛ржЗрж▓ ржЖржкрж▓рзЛржб ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ред

рждрзБржорж┐ ржЪрж╛ржУ ржирж╛ ржпрзЗ EC2 instance-ржПрж░ ржоржзрзНржпрзЗ AWS Access Key ржПржмржВ Secret Key рж▓рж┐ржЦрзЗ ржжрж╛ржУ (ржПржЯрж╛ ржЦрзБржмржЗ risky!)
ржмрж░ржВ рждрзБржорж┐ EC2 instance-ржХрзЗ ржПржХржЯрж┐ **IAM Role** attach ржХрж░рзЗ ржжрзЗржмрзЗ, ржпрж╛рждрзЗ рж╕рзЗржЗ Role-ржПрж░ ржорж╛ржзрзНржпржорзЗ EC2 ржирж┐ржЬрзЗржЗ S3 bucket-ржП access ржкрж╛рзЯред

ржПржнрж╛ржмрзЗ credentials manage ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ рж╣рзЯ ржирж╛ тАФ AWS backend ржПржнрж╛ржмрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ credential issue ржХрж░рзЗ ржжрзЗрзЯред

---

## ЁЯзй **IAM Role-ржПрж░ ржорзВрж▓ рзкржЯрж┐ ржЕржВрж╢**

1. **Trusted Entity (Trust Policy)**
   тЖТ ржХрзЗ ржмрж╛ ржХрж╛рж░рж╛ ржПржЗ Role assume ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред
   ржпрзЗржоржи: EC2, Lambda, ржмрж╛ ржЕржирзНржп AWS Accountред

2. **Permissions Policy**
   тЖТ Role ржХрзЛржи ржХрзЛржи ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ (ржпрзЗржоржи S3 read/write, DynamoDB access ржЗрждрзНржпрж╛ржжрж┐)ред

3. **Session Duration**
   тЖТ ржХрждржХрзНрж╖ржг Role ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ (рж╕рж╛ржзрж╛рж░ржгржд рзз ржШржгрзНржЯрж╛ ржерзЗржХрзЗ рззрзи ржШржгрзНржЯрж╛ ржкрж░рзНржпржирзНржд)ред

4. **Assume Role Mechanism**
   тЖТ ржЗржЙржЬрж╛рж░ ржмрж╛ рж╕рж╛рж░рзНржнрж┐рж╕ ржпржЦржи Role тАЬassumeтАЭ ржХрж░рзЗ, рждржЦржи AWS рждрж╛ржжрзЗрж░ржХрзЗ рж╕рж╛ржоржпрж╝рж┐ржХ credential ржжрзЗрзЯред

---

## ЁЯПЧя╕П **Role ржХрзЛржерж╛рзЯ ржмрзНржпржмрж╣рзГржд рж╣рзЯ**

| ржмрзНржпржмрж╣рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░                   | ржмрзНржпрж╛ржЦрзНржпрж╛                                                                     |
| --------------------------------- | ---------------------------------------------------------------------------- |
| **EC2 Role**                      | EC2 instance ржерзЗржХрзЗ AWS рж╕рж╛рж░рзНржнрж┐рж╕рзЗ access ржжрзЗрзЯрж╛рж░ ржЬржирзНржп                             |
| **Lambda Role**                   | Lambda function-ржПрж░ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ permission ржжрзЗрзЯрж╛рж░ ржЬржирзНржп                           |
| **Cross-Account Role**            | ржПржХ AWS account ржерзЗржХрзЗ ржЕржирзНржп AWS account-ржПрж░ resource access ржХрж░рж╛рж░ ржЬржирзНржп            |
| **Service Role for AWS Services** | ржпрзЗржоржи ECS, Glue, CodeBuild ржЗрждрзНржпрж╛ржжрж┐ рж╕рж╛рж░рзНржнрж┐рж╕ ржирж┐ржЬрзЗрж░ ржХрж╛ржЬ ржХрж░рждрзЗ ржпрзЗрж╕ржм permission ржЪрж╛рзЯ |

---

## тЪЩя╕П **ржПржХржЯрж┐ рж╕рж╣ржЬ Role Policy ржЙржжрж╛рж╣рж░ржг**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:ListBucket",
        "s3:GetObject",
        "s3:PutObject"
      ],
      "Resource": [
        "arn:aws:s3:::my-example-bucket",
        "arn:aws:s3:::my-example-bucket/*"
      ]
    }
  ]
}
```

ЁЯСЙ ржПржЗ Role-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржпрзЗржЗ entity ржПржЯрж╛ржХрзЗ assume ржХрж░ржмрзЗ, рж╕рзЗ `my-example-bucket` ржП ржкрзЬрждрзЗ ржУ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЗред

---

## ЁЯза **Role ржмржирж╛ржо User ржкрж╛рж░рзНржержХрзНржп**

| ржмрж┐рж╖рзЯ        | IAM User                        | IAM Role                            |
| ----------- | ------------------------------- | ----------------------------------- |
| Credentials | рж╕рзНржерж╛рзЯрзА (Access key, secret key) | ржЕрж╕рзНржерж╛рзЯрзА (AWS session token)         |
| ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА | ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрзНржпржХрзНрждрж┐ ржмрж╛ ржЕрзНржпрж╛ржк      | ржпрзЗ ржХрзЗржЙ ржпрж╛ржХрзЗ Trust Policy ржЕржирзБржорждрж┐ ржжрзЗрзЯ |
| ржирж┐рж░рж╛ржкрждрзНрждрж╛   | рждрзБрж▓ржирж╛ржорзВрж▓ржХ ржХржо                    | ржмрзЗрж╢рж┐ ржирж┐рж░рж╛ржкржж (no hardcoded keys)     |
| ржЙржжрзНржжрзЗрж╢рзНржп    | Long-term access                | Temporary, delegated access         |

---

## тЬЕ **рж╕рзБржмрж┐ржзрж╛**

* ЁЯФТ **Security ржмрзГржжрзНржзрж┐ ржкрж╛рзЯ** тАФ ржХрзЛржирзЛ Access Key hardcode ржХрж░рждрзЗ рж╣рзЯ ржирж╛
* ЁЯФБ **Easier Permission Management**
* ЁЯзСтАНЁЯдЭтАНЁЯзС **Cross-account access рж╕рж╣ржЬ рж╣рзЯ**
* тШБя╕П **AWS Services Integration рж╕рж╣ржЬ рж╣рзЯ**

---

## ЁЯУШ **рж╕ржВржХрзНрж╖рзЗржкрзЗ ржоржирзЗ рж░рж╛ржЦрзЛ**

> IAM Role = ржПржХржЯрж┐ Temporary Permission Set
> ржпрж╛ AWS рж╕рж╛рж░рзНржнрж┐рж╕ ржмрж╛ ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЕржирзБржорждрж┐ ржжрзЗрзЯ, credentials ржЫрж╛рзЬрж╛ржЗред

---

ржЪрж╛ржУ ржХрж┐ ржЖржорж┐ ржкрж░рзЗрж░ ржзрж╛ржкрзЗ **EC2 Instance-ржПрж░ рж╕рж╛ржерзЗ IAM Role attach ржХрж░рж╛рж░ full practical setup (ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрж╛ржВрж▓рж╛рзЯ)** ржжрзЗржЦрж╛ржЗ?
рждрж╛рж╣рж▓рзЗ рждрзБржорж┐ рж╕рж░рж╛рж╕рж░рж┐ ржкрзНрж░рзНржпрж╛ржХржЯрж┐ржХрзНржпрж╛рж▓ржнрж╛ржмрзЗ рж╢рж┐ржЦрзЗ ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗред
